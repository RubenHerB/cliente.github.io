<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html"; charset="utf-8" />
        <title>Ahorcado</title>
        <style>
            *{margin-left: auto;margin-right: auto;text-align: center;}
            span{margin-top: 100px;}
            .poste1 {
        width: 30px;
        height:400px;
        background-color: black;
        display: inline-block;
        position: absolute;
        top:20px;
        left :80px;
            }

            .poste2 {
        width: 200px;
        height:30px;
        background-color: black;
        display: inline-block;
        position: absolute;
        top:20px;
        left :80px;
            }

            .base {
        width: 300px;
        height:30px;
        background-color: black;
        display: inline-block;
        position: absolute;
        top:420px;
        left :40px;
            }

            .cuerda {
        width: 10px;
        height:50px;
        background-color: black;
        display: inline-block;
        position: absolute;
        top:50px;
        left :260px;
            }

            .cabeza{
                width: 50px;
                aspect-ratio: 1/1;
                border-radius: 50%;
                border:4px solid black;
                display: inline-block;
                visibility:hidden;;
                position: absolute;
                top:100px;
                left :235.5px;
            }

            .torso {
        width: 6px;
        height:100px;
        background-color: black;
        display: inline-block;
                visibility:hidden;;
        position: absolute;
        top:154px;
        left :262px;
            }

        .brazos{
            width: 6px;
        height:100px;
        background-color: black;
        display: inline-block;
                visibility:hidden;;
        position: absolute;
        top:154px;
        left :262px;
        transform: rotate(45deg);
        }

        .pierna1{
            width: 6px;
        height:50px;
        background-color: black;
        display: inline-block;
                visibility:hidden;;
        position: absolute;
        top:248px;
        left :250px;
        transform: rotate(30deg);
        }

        .pierna2{
            width: 6px;
        height:50px;
        background-color: black;
        display: inline-block;
                visibility:hidden;;
        position: absolute;
        top:248px;
        left :275px;
        transform: rotate(-30deg);
        }

        u { 
        text-decoration: underline;
        font-size: 100px;
        }

        </style>
    <head>
    <body>
        <h1>El ahorcado </h1>
        <h2>El juego del ahorcado, intenta adivinar letras de la palabra, puedes cometer 5 fallos</h2><br>
        <h2>La tematica actual es: </h2><h2 id="tema"></h2>

        <div class="horca">
            <span class="poste1" id="poste1"></span>
            <span class="poste2" id="poste2"></span>
            <span class="base" id="base"></span>
            <span class="cuerda" id="cuerda"></span>
            <span class="cabeza" id="cabeza"></span>
            <span class="torso" id="torso"></span>
            <span class="brazos" id="brazos"></span>
            <span class="pierna1" id="pierna1"></span>
    <span class="pierna2" id="pierna2"></span>
    <h3 class="intentos">Te quedan 5 intentos</h3>
        </div>
        <h1 id="palabra"></h1>
        <div id="input">
        <form>
            Introduce una letra o una palabra en su campo para intentar adivinarla.<br><br>
            Letra: <input type="text" id="letra" maxlength="1" style="margin-right: 20px;"">     
            Palabra <input type="text" id="palabra">
        </form><br><br>
        <button onclick="letra()">Adivinar letra</button>  <button onclick="palabra(plb)" style="margin-left: 20px;">Adivinar palabra</button>
    </div>
    <div id="final" style="visibility: hidden;">
    <h1 id="mensaje"></h1>
    <button onclick="reiniciar()">Reiniciar</button>
    </div>
    <script>
        const palabras=[["Gente",["humanidad","humano","persona","gente","hombre","mujer","bebé","niño","niña","adolescente","adulto","adulta","anciano","anciana","don","doña","señor","señora","caballero","dama","individuo"]]];
        palabras.push(["Cuerpo humano y salud",["cuerpo","pierna","pie","talón","espinilla","rodilla","muslo","cabeza","cara","boca","labio","diente","ojo","nariz","barba","bigote","cabello","oreja","cerebro","estómago","brazo","codo","hombro","uña","mano","muñeca","palma","dedo","trasero","culo","cola","glúteos","abdomen","hígado","músculo","cuello","corazón","mente","alma","espíritu","pecho","cintura","cadera","espalda","sangre","carne","piel","hueso","resfriado","gripe","diarrea","salud","enfermedad"]]);
        palabras.push(["Familia y otras relaciones",["familia","amigo","amiga","conocido","conocida","colega","pareja","esposo","esposa","matrimonio","amor","padre","madre","hermano","hermana","hijo","hija","abuelo","abuela","bisabuelo","bisabuela","nieto","nieta","bisnieto","bisnieta","primo","prima","tío","tía","sobrino","sobrina"]]);
        palabras.push(["Sociedad",["sociedad","comunidad","reunión","encuentro","estructura","administración","organización","asociación","empresa","equipo","autoridad","cargo","campaña","club","comisión","congreso","consejo","partido","país","nación","gobierno","estado","provincia","departamento","municipio","democracia","dictadura","política","político","presidente","ministro","director","parlamentario","congresista","senador","diputado","representante","gobernador","intendente","alcalde","policía","bomberos","capital","ciudad","población","pueblo","villa","obligación","libertad","derecho","permiso","prohibición","constitución","ley","decreto","norma"]]);
        
        function randIntStr(str) {
            return Math.floor(Math.random() *str.length);
        }

        function generar_palabra(){
            let r1=randIntStr(palabras);
            let r2=randIntStr(palabras[r1][1]);
            let tema=palabras[r1][0];
            let palabra=palabras[r1][1][r2];

            let palabraar=[];
            for (var i=0;i<palabra.length;i++){
                palabraar[i]=palabra.charAt(i);
            }
            return [tema,palabra,palabraar];
        }

        function generar_espacios(ar){
            document.getElementById("tema").innerHTML=ar[0];
            document.getElementById("palabra").innerHTML="<u id=\"l0\">*</u>";
            for (var i=1;i<ar[2].length;i++){
                document.getElementById("palabra").innerHTML+=" <u id=\"l"+i+"\">*</u>";
            }
        }   

        function cambiar_letra(ar,l){
            for(var i=0;i<ar[2].length;i++){
                if(ar[2][i]==l){	
            document.getElementById("l"+i).innerHTML=l;
            document.getElementById("l"+i).style.color="green";
                }
        }
    }
    function cambiar_palabra(ar){
        for(var i=0;i<ar[2].length;i++){
            document.getElementById("l"+i).innerHTML=ar[2][i];
            document.getElementById("l"+i).style.color="green";
    }
}

    function palabra(ar){
        var adi=document.getElementById("palabra").value;
        adi = adi.split(" ").join("");
        adi = adi.toLowerCase();
        if(ar[1]==adi){
            cambiar_palabra(ar);
            //win();
        }else{
            //error();
        }
    }

        var plb=generar_palabra();
        generar_espacios(plb);
        console.log(plb);

        
    </script>
    </body>
</head>